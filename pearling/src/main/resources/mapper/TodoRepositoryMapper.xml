<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.pearling.web.repository.TodoRepository">
   <select id="findAll" resultType="Todo">
		select *
		from to_do
		<trim prefix="WHERE" prefixOverrides="AND|OR">
			<if test="query != null">
				content like '%${query}%'
			</if>			
		</trim>
	</select>
		<select id="findByUserId" resultType="Todo">
		select * 
		from to_do
		WHERE member_id = #{memberId};
	</select>
	<select id="findByDate" resultType="Todo">
		select * 
		from to_do
		WHERE member_id = #{memberId} and date = '${date.toString()}';
	</select>
</mapper>